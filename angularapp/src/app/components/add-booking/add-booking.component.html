<h1>Add Booking Details</h1>

<form [formGroup]="addBookingForm" (ngSubmit)="onSubmit()">

    <div class="form-group">
        <label for="resortId">Resort Name:</label>
        <select id="resortId" formControlName="resortId" (change)="updatePrice()">
            <option *ngFor="let resort of resorts" [value]="resort.resortId">{{ resort.resortName }}</option>
        </select>
    </div>

    <div class="form-group">
        <label for="totalPrice">Total Price:</label>
        <input type="text" id="totalPrice" formControlName="totalPrice" readonly>
    </div>

    <div class="form-group">
        <label for="address">Address:</label>
        <textarea id="address" formControlName="address"></textarea>
        <div *ngIf="addBookingForm.get('address').hasError('required') && addBookingForm.get('address').touched"
             class="error-message">
            *Address is required.
        </div>
    </div>

    <div class="form-group">
        <label for="noOfPersons">Number of persons:</label>
        <input type="number" id="noOfPersons" formControlName="noOfPersons">
        <div *ngIf="addBookingForm.get('noOfPersons').hasError('required') && addBookingForm.get('noOfPersons').touched"
             class="error-message">
            *Number of persons is required.
        </div>
    </div>

    <div class="form-group">
        <label for="fromDate">From Date:</label>
        <input type="date" id="fromDate" formControlName="fromDate">
        <div *ngIf="addBookingForm.get('fromDate').hasError('required') && addBookingForm.get('fromDate').touched"
             class="error-message">
            *From Date is required.
        </div>
    </div>

    <div class="form-group">
        <label for="toDate">To Date:</label>
        <input type="date" id="toDate" formControlName="toDate">
        <div *ngIf="addBookingForm.get('toDate').hasError('required') && addBookingForm.get('toDate').touched"
             class="error-message">
            *To Date is required.
        </div>
    </div>

    <div *ngIf="errorMessage" class="error-message">
        *{{ errorMessage }}
    </div>

    <div class="add-btn">
        <button type="submit">Make Payment</button>
    </div>

</form>
<div *ngIf="showSuccessPopup" class="success-popup">
    <p>Payment was successful!</p>
    <button (click)="navigateToDashboard()">OK</button>
</div>
